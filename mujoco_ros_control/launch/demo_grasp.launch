<launch>
  <arg name="sim" default="false" />
  <arg name="isolated_arm_driver" default="true" />
  <arg name="scene" default="true" />
  <arg name="octomap" default="true" />
  <arg name="grasp_controller" default="true" />
  <arg name="initial_z" default="0.7621" />
  <arg name="start_home" default="$(arg sim)" />
  <arg name="camera" default="ensenso" />
  <arg name="arm_group" default="right_arm_and_manipulator" />
  <arg name="load_grasps" default="true" />
  <arg name="manipulator_file" default="$(find mujoco_ros_control)/config/manipulator_hand.yaml" />
  <arg name="arm_positions_file" default="$(find mujoco_ros_control)/config/arm_positions.yaml" />

  <!-- Robot stuff -->
  <include file="$(find fh_robot_launch)/launch/fh_ur10_and_fh2_mujoco.launch">
    <arg name="sim" value="$(arg sim)"/>
    <arg name="grasp_controller" value="$(arg grasp_controller)" />
    <arg name="robot_description" value="$(find fh_2_ur10_moveit_config)/config/fh_v2_ur10_with_hand.urdf.xacro" />
  </include>

  <!-- Publish mocap box static tf -->
  <node pkg="tf2_ros" type="static_transform_publisher" name="box_tf" args="1 0.5 0.2 0 0 0 1 world box_link"/>

  <!-- Grasping stuff -->
  <param name="arm_group" value="$(arg arm_group)" />
  <param name="grasp_action_name" value="H0_grasp_controller/grasp_action" />
  <rosparam command="load" file="$(arg manipulator_file)"/>
  <rosparam command="load" file="$(arg arm_positions_file)"/>

  <include file="$(find sr_manipulation_launch)/launch/grasp_selector_with_db.launch">
    <arg name="object_publisher" default="false" />
  </include>
  <node if="$(arg load_grasps)" pkg="sr_utilities_common" type="timed_roslaunch.sh" args="120 sgs_restful_api fill_sr_manipulation_grasp_db.launch grasps_file_path:='$(find mujoco_ros_control)/config/grasps.yaml'" name="timed_load_grasps" output="screen"/>
  <node pkg="sr_manipulation_grasp_conductor" type="pick_place_server.py" name="pick_place_server" output="screen"/>

</launch>
